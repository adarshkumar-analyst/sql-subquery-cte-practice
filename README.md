# SQL Practice â€“ Subqueries & CTEs

## ðŸ“Œ Project Overview

This repository contains structured SQL practice focused on:

- Subqueries (Simple, Correlated, Nested)
- Common Table Expressions (CTE)
- Aggregations with GROUP BY & HAVING
- Multi-level filtering logic
- Department-level salary analytics

The goal of this project is to strengthen SQL fundamentals and intermediate-level query writing using real-world employee and department datasets.

---

## ðŸ—‚ Database Structure

### Tables Used:
- `departments`
- `employees`

### Key Columns:
- Employee salary analysis
- Department-level aggregation
- Hire date comparisons
- Cross-department salary comparisons

---

## ðŸ§  Topics Covered

### ðŸ”¹ Basic Level
- Salary greater than average
- Minimum salary retrieval
- Average hire date filtering
- Department-based salary comparison

### ðŸ”¹ Intermediate Level
- Department-wise average salary comparison
- Second highest salary
- Departments with more than N employees
- Filtering based on department maximum salary

### ðŸ”¹ Advanced Level
- Highest-paid employee per department
- Top 3 highest-paid employees (without window functions)
- Salary between department average and maximum
- Departments with total salary expense above company average
- Salary comparison using ALL / ANY
- Cross-department salary evaluation
- Nested subqueries inside HAVING
- Multi-layer CTE usage

---

## ðŸ›  Concepts Practiced

- Correlated Subqueries
- Nested Subqueries
- Derived Tables
- Multiple CTEs
- Aggregate of Aggregate logic
- Logical Filtering with HAVING
- Performance-conscious query structuring

---

## ðŸŽ¯ Learning Outcome

Through this practice set, I improved:

- Writing optimized subqueries
- Converting subqueries into CTEs
- Handling department-level analytical logic
- Solving interview-style SQL problems without using window functions

---

## ðŸ“ˆ Current Level

âœ” Strong understanding of Subqueries  
âœ” Comfortable with CTE-based multi-step queries  
âœ” Able to solve intermediate & advanced aggregation problems  

---

## ðŸ“¬ Author

**Adarsh Kumar**

Practicing SQL for data analyst and interview preparation.
